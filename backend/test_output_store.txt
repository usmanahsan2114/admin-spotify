
> backend@1.0.0 test
> cross-env NODE_ENV=test jest tests/storeController.test.js

  console.log
    [dotenv@17.2.3] injecting env (11) from .env -- tip: ΓÜÖ∩╕Å  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    Γ£à Environment variables validated successfully (DB_DIALECT: postgres)

      at log (middleware/envValidation.js:85:11)

node.exe : FAIL 
tests/storeController.test.js
At C:\Program 
Files\nodejs\npm.ps1:29 
char:3
+   & $NODE_EXE $NPM_CLI_JS 
$args
+   
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo           
   : NotSpecified: (FAIL te  
  sts/storeController.test   
 .js:String) [], RemoteEx    
ception
    + FullyQualifiedErrorId  
   : NativeCommandError
 
  Store Controller
    GET /api/stores
      ΓêÜ should return all 
stores (62 ms)
    POST /api/stores
      ΓêÜ should create a 
new store (27 ms)
    PUT /api/stores/:id
      ΓêÜ should update a 
store (17 ms)
      ΓêÜ should return 404 
if store not found (9 ms)
    DELETE /api/stores/:id
      ΓêÜ should delete a 
store (10 ms)
      ΓêÜ should return 400 
if trying to delete demo 
store (8 ms)
    POST /api/stores/:id/admi
n-credentials
      ├ù should generate 
admin credentials for a 
store (9 ms)
      ΓêÜ should return 404 
if store not found (7 ms)

  ΓùÅ Store Controller ΓÇ║ 
POST /api/stores/:id/admin-cr
edentials ΓÇ║ should 
generate admin credentials 
for a store

    expect(received).toBe(exp
ected) // Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 179 |[39m    
             [33m.[39mpost(
[32m`/api/stores/${storeId}/
admin-credentials`[39m)[33m
;[39m
     [90m 180 |[39m
    
[31m[1m>[22m[39m[90m 
181 |[39m             expect
(res[33m.[39mstatusCode)[3
3m.[39mtoBe([35m200[39m)[
33m;[39m
     [90m     |[39m        
                            
[31m[1m^[22m[39m
     [90m 182 |[39m        
     expect(res[33m.[39mbod
y)[33m.[39mtoHaveProperty(
[32m'email'[39m)[33m;[39m
     [90m 183 |[39m        
     expect(res[33m.[39mbod
y)[33m.[39mtoHaveProperty(
[32m'password'[39m)[33m;[3
9m
     [90m 184 |[39m        
 })[33m;[39m[0m

      at Object.toBe (tests/s
toreController.test.js:181:36
)

Test Suites: 1 failed, 1 
total
Tests:       1 failed, 7 
passed, 8 total
Snapshots:   0 total
Time:        2.973 s, 
estimated 5 s
Ran all test suites matching 
tests/storeController.test.js
.
Force exiting Jest: Have you 
considered using 
`--detectOpenHandles` to 
detect async operations that 
kept running after all tests 
finished?
